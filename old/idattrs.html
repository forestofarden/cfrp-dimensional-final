<!-- An experiment demonstrating how to join data to pre-existing elements by id and class -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
<head>
  <meta charset="utf-8">
  <script src="../lib/d3.min.js"></script>
</head>
<body>
  <svg>
    <circle class="mdat parterre" cx="15" cy="15" r="5"></circle>
    <circle class="mdat première_loge" cx="30" cy="15" r="5"></circle>
    <circle class="mdat autre" cx="45" cy="15" r="5"></circle>
  </svg>
</body>
  <script>
    var data = { "autre": 5, "première loge": 30,  "parterre": 90 },
        size = d3.scale.linear().range([2,7]).domain([0, 100]);
        marks = d3.selectAll(".mdat")
          .datum(function() {
            var classes = d3.select(this).attr("class").split(" ");
            classes = classes.filter(function(d) { return d !== "mdat"; });
            var k = classes[0].replace("_", " ");
            console.log(k);
            return data[k];
          });
    marks.attr("r", function(d) { return size(d); });
  </script>
</html>