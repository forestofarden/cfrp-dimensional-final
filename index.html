<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Comédie Française Registers Project</title>
  <style>
    body {
      font: 12pt sans-serif;
    }
    svg {
      clear: none;
    }
    .sidebar { 
      float: right; 
      clear: none; 
      margin: 10px;
      width: 300px;
    }
    .viz {
      cursor: pointer;
    }
    .viz:not(:hover) .close {
      display:none;
    }
  </style>
  <script src="lib/d3.min.js"></script>
  <script src="lib/crossfilter.min.js"></script>
</head>
<body>
  <script src="./mdat.js"></script>
  <script src="./genre_chord.js"></script>
  <script src="./receipts_by_author.js"></script>
  <script>
    var dateFormat = d3.time.format("%Y-%m-%d");

    d3.tsv("data/cfrp-sales.tsv", function(error, data) {
      if (error) return console.error(error);

      data = data.map(function (d) {
        d.date = dateFormat.parse(d.date);
        d.sold = +d.sold;
        d.price = +d.price;
        return d;
      });

      var cfrp = crossfilter(data),
          mplex = mdat.mplex()
                      .datapoint(cfrp);

      d3.select("body").call(mplex);
    });
  </script>
</body>
</html>