<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Comédie Française Registers Project</title>
  <style>
    body {
      font: 14px sans-serif;
    }
    svg {
      clear: none;
      font: 10px sans-serif;
    }
    .sidebar { 
      float: right; 
      clear: none; 
      margin: 10px;
      width: 300px;
    }
    .viz {
      cursor: pointer;
    }
    .viz:not(:hover) .close {
      display:none;
    }

    .viz .background {
      opacity: 0;
    }

    /* component-specific css: figure out an export solution for svg */
    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .line {
      fill: none;
      stroke: orange;
      stroke-width: 1.5px;
    }
  </style>
  <script src="lib/d3.min.js"></script>
  <script src="lib/crossfilter.min.js"></script>
  <script src="mdat.js"></script>
  <script src="genre_chord.js"></script>
  <script src="receipts_by_author.js"></script>
  <script src="receipts_timeseries.js"></script>
</head>
<body>
  <script>
    var dateFormat = d3.time.format("%Y-%m-%d");

    d3.tsv("data/cfrp-sales.tsv", function(error, data) {
      if (error) return console.error(error);

      data = data.map(function (d) {
        d.date = dateFormat.parse(d.date);
        d.sold = +d.sold;
        d.price = +d.price;

        return d;
      });

      var cfrp = crossfilter(data),
          mplex = mdat.mplex()
                      .datapoint(cfrp);

      d3.select("body").call(mplex);
    });
  </script>
</body>
</html>